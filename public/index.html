<!DOCTYPE html>
<html lang="no">
  <head>
    <script src="%PUBLIC_URL%/config.js" ></script>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Forenklet integrering mot maskinporten"
    />
    <meta http-equiv="Content-Security-Policy"
          content="
          default-src 'self';
          script-src 'self' 'unsafe-inline' app-script.monsido.com heatmaps.monsido.com pagecorrect.monsido.com;
          style-src 'self' 'unsafe-inline';
          connect-src 'self' https://data.brreg.no localhost:8080 api-onboarding.maskinporten.dev api-onboarding.test.maskinporten.no api-onboarding.maskinporten.no heatmaps.monsido.com pagecorrect.monsido.com;
          img-src 'self' tracking.monsido.com;
          frame-src 'none';
          object-src 'none';"
    >
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Forenklet Onboarding</title>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

    <script type="text/javascript">
      const scriptToken = 'ANALYTICS_TOKEN' in window.env ? window.env.ANALYTICS_TOKEN : '';
      const scriptUrl = 'ANALYTICS_SCRIPT' in window.env ? window.env.ANALYTICS_SCRIPT : '';
      const empty = ['', 'none', 'undefined', 'null'];

      if (!empty.includes(scriptToken) && !empty.includes(scriptUrl)) {
        window._monsido = window._monsido || {
          token: scriptToken,
          statistics: {
            enabled: true,
            cookieLessTracking: true,
            documentTracking: {
              enabled: true,
              documentCls: "monsido_download",
              documentIgnoreCls: "monsido_ignore_download",
              documentExt: []
            }
          },
          heatmap: {
              enabled: true
          },
          pageCorrect: {
              enabled: true
          }
        };

        const script = document.createElement('script');
        script.src = scriptUrl;
        script.async = true;
        document.body.appendChild(script);
      } else {
        console.log('Analytics not enabled');
      }
  </script>
  </body>

</html>
